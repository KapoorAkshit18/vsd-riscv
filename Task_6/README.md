# PIR Sensor Controlled Servo Motor with CH32V00x

## Overview
This project demonstrates a simple motion-detection system using a PIR (Passive Infrared) sensor and a servo motor. The system sweeps the servo motor left and right when motion is detected. It uses the CH32V00x microcontroller series for control and generates PWM signals on Timer 1 to drive the servo.

The project reads input from a PIR sensor connected to PD3 and controls a servo motor connected to PD2.

---

## Components Used
| Component                   | Quantity | Notes |
|------------------------------|----------|-------|
| CH32V00x Microcontroller     | 1        | Dev board or custom PCB |
| Servo Motor                  | 1        | Standard micro servo |
| PIR Sensor (HC-SR501/HC-SR01)| 1        | Motion detection |
| Jumper Wires                 | As required | For connections |
| Power Supply                 | 5V       | Compatible with MCU and servo |

---

## Theory
- **PIR Sensor**: Detects motion based on changes in infrared radiation in its field of view. When motion is detected, the output goes HIGH (or LOW depending on wiring).
- **Servo Motor Control**: Controlled using PWM signals generated by Timer 1 of the microcontroller. The duty cycle of the PWM determines the servo angle.
- **Microcontroller**: The CH32V00x reads the PIR sensor status on PD3 and generates appropriate PWM signals on PD2 to move the servo.

**PWM Details**:
- Timer configured with `ARR = 199` and `PSC = 2399`.
- Servo pulse widths range between 10 to 20 for sweeping motion.
- Center position pulse width is 15.

---

## Connections
| Device          | Pin on CH32V00x | Notes |
|-----------------|----------------|-------|
| Servo Motor     | PD2            | PWM output |
| PIR Sensor      | PD3            | Input pull-up |
| VCC (Servo & PIR)| 5V             | Ensure current rating is sufficient |
| GND             | GND            | Common ground |

---

## Code Description
- **`TIM1_PWMOut_Init(arr, psc, ccp)`**: Initializes Timer 1 PWM on PD2 for servo control.
- **`GPIO_Config()`**: Configures PD3 as input with pull-up for the PIR sensor.
- **`main()`**: 
  - Initializes system and peripherals.
  - Continuously reads PIR sensor status.
  - Sweeps servo left to right when motion is detected.
  - Holds servo at center when no motion is detected.

---

## Results and Conclusions
- When no motion is detected, the servo stays in the center position.
- When motion is detected, the servo sweeps smoothly from left to right and back.
- The system provides a simple demonstration of motion-triggered servo control using PWM.

**Conclusion**: The CH32V00x microcontroller can effectively interface with both PIR sensors and servo motors using GPIO and PWM peripherals, enabling automation and motion-based control projects.

---

## Video
[Insert video link or file demonstrating servo motion on PIR detection]

